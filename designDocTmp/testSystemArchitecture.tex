\documentclass{scrreprt}

\usepackage{xcolor} % for different colour comments
\usepackage{tabto}
\usepackage{mdframed}
\mdfsetup{nobreak=true}
\usepackage{xkeyval}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[skip=2pt, labelfont=bf]{caption}
\usepackage{titlesec}
\usepackage{graphicx}
\usepackage[section]{placeins}
\graphicspath{ {image/} }

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}


%% Comments
\newif\ifcomments\commentstrue

\ifcomments
\newcommand{\authornote}[3]{\textcolor{#1}{[#3 ---#2]}}
\newcommand{\todo}[1]{\textcolor{red}{[TODO: #1]}}
\else
\newcommand{\authornote}[3]{}
\newcommand{\todo}[1]{}
\fi

\newcommand{\wss}[1]{\authornote{magenta}{SS}{#1}}
\newcommand{\ds}[1]{\authornote{blue}{DS}{#1}}

\begin{document}
\title{\bf Text to Motion Database\\[\baselineskip]\Large Design Document}
\author{Brendan Duke\\Andrew Kohnen\\Udip Patel\\David Pitkanen\\Jordan Viveiros}
\date{\today}

\maketitle

\pagenumbering{roman}
\tableofcontents
% \listoftables
% \listoffigures


\begin{table}[bp]
\caption*{\bf Revision History}
\begin{tabularx}{\textwidth}{p{3.5cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
January 5, 2017 & 0.0 & File created\\
\bottomrule
\end{tabularx}
\end{table}

\newpage

\pagenumbering{arabic}

\chapter{Overview}
This document will provide a general overview of how the McMaster Text to Motion Database will be constructed. The first chapter will talk about the changes that the Text to Motion Database may undergo during the development. The second chapter will contain high level component decomposition for the web interface and the options available to a user who has registered through the web interface.

\chapter{Anticipated and Unlikely Changes}
As the Text to Motion Database continues to grow and be developed there are inevitably going to be changes in the design and structure of the overall project. The next sections aim to outline the aspects of the project that may be prone to change versus the aspects that are core to the functionality of the database.

\section{Anticipated Changes}
  \begin{itemize}
    \item \textbf {User Interface Design:} The user interface will likely be changed throughout the development process due to feedback from users and supervisors. The changes should improve the user experience and add functionality when possible in order to promote the usability of the database through the web interface.
    \item \textbf {HTTP Server:} The HTTP server should see some changes during development as at the time of revision 0 it is still in an early stage of development compared with other modules. It will be used to upload images and videos through the command line, which will be outlined below.
    \item \textbf{Deep Learning Network:} The deep learning network will see improvement through the accuracy of the pose estimation performed on uploaded images or video. This may occur by re-training the existing network by the development team, or more state of the art methods and algorithms can be applied.
  \end{itemize}

\section{Unlikely Changes}
  \begin{itemize}
    \item \textbf {Image/Video Upload:} At the core of the McMaster Text to Motion Database the ability to upload video and images is one of the primary functions and will remain an option throughout the project's development.
    \item \textbf {Database Search:} The ability to search through the database is something that the Text to Motion Database should always provide and will evolve when the full text search is implemented.
  \end{itemize}

\chapter{Component Decomposition}

\section{Web Interface}
Figure 1 shows the user experience from landing on the Home page to options within the web interface.

\begin{enumerate}
  \item Home page for the Text to Motion Database provides information and is the starting point for the journey.
  \item Contact contains the contact information of the development group and its supervisors.
  \item About is about the Text to Motion Database and contains a more detailed description of the application.
  \item ImagePoseDraw accesses the database in order to create, display or manipulate uploads.
  \begin{enumerate}
    \item Create is used to take a user, who has logged in to the page in order to upload a new image or video, to the database.
    \item Searching through the current database entries is done through the search bar located above the data table.
    \item Details contains the description of the entry, and the options to edit, view or delete the upload.
  \end{enumerate}
  \item Login takes the user to the login page to sign in with a registered account.
  \item Register allows the user to register a new account in order to create new uploads.
  \item Text to Motion provides the user the ability to utilize full text search to find associated tags.
  \begin{enumerate}
    \item Search is in reference to the search bar that receives input and searches the database.
    \item Search returns the query results and displays the results to the user.
  \end{enumerate}
\end{enumerate}

\begin{figure}[!ht]
        \caption{User Journey for a new user}
        \label{erDiagram}
        \centering
        \includegraphics[width=0.8\textwidth]{../Docs/data/UserExperience.png}
\end{figure}

\section{Media Upload}
Figure 2 displays the process that a verified user can go through in order to upload and interact with the Text to Motion Database.

\begin{enumerate}
  \item The user must first be logged into the website in order to upload an image or video.
  \item Using the web interface allows the user multiple options with respect to uploading images and video.
  \item The standalone HTTP server allows the user to access the database
        remotely through the command line, or other application using HTTP
        requests, in order to upload images and videos and perform human pose
        estimation.
  \item Both the web interface and HTTP server access the Caffe/Tensorflow backend process in order to run pose estimation and save the results to the database for future use.
  \item The database takes in search queries from the web interface and receives uploads from the pose estimation process.
\end{enumerate}


\begin{figure}[!ht]
        \caption{Upload process for a registered user}
        \label{mediaUpload}
        \centering
        \includegraphics[width=0.8\textwidth]{../Docs/data/UserUpload.png}
\end{figure}

\end{document}
